<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>BestWallet Admin API</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

  </head>

  <body class="bw_admin">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <!--<img src="images/logo.png" />-->
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='mserver.html'>Mserver API</a></li>
            <li><a href='mserver_admin.html'>Mserver Admin API</a></li>
            <li><a href='bestwallet.html'>BestWallet API</a></li>
            <li><a href='bw_admin.html'>BestWallet Admin API</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id='kategorii'>Категории</h1><h2 id='zagruzka-spiska-kategoriy'>Загрузка списка категорий</h2><pre class="highlight shell"><code><span class="gp">$ </span>curl -uuser:user <span class="s2">"http://sandbox.wallet.best/adm2/categories/"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"549c92fb56c35f660ecd341f"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"mserver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">978</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Денежные переводы"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"group"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"name"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<ul>
<li><code class="prettyprint">id</code> - id категории</li>
<li><code class="prettyprint">mserver_id</code> - id категории на mserver</li>
<li><code class="prettyprint">name</code> - локализированное название категории</li>
<li><code class="prettyprint">group</code> - группа, к которой относится категория</li>
<li><code class="prettyprint">position</code> - позиция категории в списке</li>
<li><code class="prettyprint">amount</code> - кол-во привязанных к категории сервисов</li>
<li><code class="prettyprint">localized_fields</code> - массив с локализированными полями</li>
</ul>
<h2 id='dobavlenie-kategorii'>Добавление категории</h2><pre class="highlight shell"><code><span class="gp">$ </span>curl -H <span class="s1">'Content-type:application/json'</span> -X POST -u user:user -d <span class="s1">'{"name":"some_name","group":"some_group","position":1,"projects":["mbank","bov"]}'</span> http://sandbox.wallet.best/adm2/categories/
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55421733cccc904a990041a8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mserver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_group"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"name"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<ul>
<li><code class="prettyprint">name</code> - локализированное название категории (либо строка)</li>
<li><code class="prettyprint">group</code> - группа, к которой относится категория</li>
<li><code class="prettyprint">position</code> - позиция категории в списке</li>
<li><code class="prettyprint">projects</code> - список проектов, к которым эта категория относится</li>
</ul>
<h2 id='redaktirovanie-kategorii'>Редактирование категории</h2><pre class="highlight shell"><code><span class="gp">$ </span>curl -H <span class="s1">'Content-type:application/json'</span> -X POST -u user:user -d <span class="s1">'{"name":{"ru_RU":"some_name_edited", "en_US":"some_en_name"},"group":"some_group","position":1,"projects":["mbank","bov"], "keywords":"one,two,three"}'</span> http://sandbox.wallet.best/adm2/categories/55421733cccc904a990041a8
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55421733cccc904a990041a8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mserver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_name_edited"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_en_name"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_group"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"keywords"</span><span class="p">:</span><span class="s2">"one,two,three"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"name"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>При редактировании категории передаются те же самые поля, что и при создании</p>
<h2 id='udalenie-kategorii'>Удаление категории</h2><pre class="highlight shell"><code><span class="gp">$ </span>curl -X DELETE -uuser:user http://sandbox.wallet.best/adm2/categories/55421733cccc904a990041a8
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id='sortirovka-kategoriy'>Сортировка категорий</h2><pre class="highlight shell"><code><span class="gp">$ </span>curl -X POST -u user:user -d <span class="s1">'{"projects":["mbank"],"categories_ids":["53359fb2255c741a749f0c5d","537e28f756c35f87701cddf5",
"53359fb2255c741a749f0c47","53359fb2255c741a749f0c5b",
"53359fb2255c741a749f0c4b","549c92fb56c35f660ecd341f","53a1ca0656c35fe0767b8a93","53359fb2255c741a749f0c50",
"53359fb2255c741a749f0c42","53359fb2255c741a749f0c58",
"53359fb2255c741a749f0c4d","545abac556c35fcc2848c11f","53359fb2255c741a749f0c59"]}'</span> http://sandbox.wallet.best/adm2/categories/sort
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Необходимо передать проекты, для которых будет менять сортировка и массив idшников категорий, в том порядке, в котором они должны быть отсортированны</p>

          <h1 id='platezhi'>Платежи</h1><h2 id='zagruzka-spiska-platezhey'>Загрузка списка платежей</h2><pre class="highlight shell"><code>curl -uuser:user http://sandbox.wallet.best/adm2/payments/?size<span class="o">=</span>2
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"total_elements"</span><span class="p">:</span><span class="w"> </span><span class="mi">2852</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.471806</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">33616</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client_payment_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d292cd02-faa6-4aaf-ae52-2188182affa3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
            </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-30T10:57:03.952Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"processed_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-30T10:57:14.079Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inout"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53359fb2255c741a749f0c44"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Теле2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"mserver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phoneNumber"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"is_disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"min_length"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"max_length"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"range_start"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"range_end"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"patterns"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^\\+7[0-9]{10}$"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Номер телефона РФ начиная с +7 (в международном формате). Например, +79261112233"</span><span class="w">
                            </span><span class="p">}</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^\\+7[0-9]{10}$"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"pattern_desc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Номер телефона РФ начиная с +7 (в международном формате). Например, +79261112233"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Номер телефона, начиная с +7"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"default_value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"suggested_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"pattern_desc"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+79267101283"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"inbound"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ipsp_in"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ООО ИПСП (агент)"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"outbound"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tpr_out"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Кредит Пилот"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">17117</span><span class="p">,</span><span class="w">
                </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"465206******2338"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12345696275"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
                </span><span class="s2">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anonymous"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"person_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no_data"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-30T10:56:39.168Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last_seen_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"remote_check"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1430391567657"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"auth_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"958007"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Теле2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Пополнение"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"По номеру +79267101283"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">33615</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client_payment_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3a97b428-73a9-4b77-aedc-cbf5771fa79f"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">83</span><span class="p">,</span><span class="w">
            </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">83</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-30T10:56:45.373Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processing"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"inout"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53359fb2255c741a749f0c44"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Теле2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"mserver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phoneNumber"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"is_disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"min_length"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"max_length"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"range_start"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"range_end"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"patterns"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^\\+7[0-9]{10}$"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Номер телефона РФ начиная с +7 (в международном формате). Например, +79261112233"</span><span class="w">
                            </span><span class="p">}</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^\\+7[0-9]{10}$"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"pattern_desc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Номер телефона РФ начиная с +7 (в международном формате). Например, +79261112233"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Номер телефона, начиная с +7"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"default_value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"suggested_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"pattern_desc"</span><span class="w">
                    </span><span class="p">],</span><span class="w">
                    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+79267101283"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"inbound"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ipsp_in"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ООО ИПСП (агент)"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"outbound"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tpr_out"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Кредит Пилот"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"card"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_page_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:\/\/test1.ipsp.com\/frontend\/endpoint?product_id=1721&amp;desc=BestWallet&amp;payment_type=S&amp;amount=83.00&amp;currency=RUB&amp;cf=33615&amp;locale=ru&amp;hash=a00265377f9cd33d130c4ef01f472d7e7813bea1"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12345696275"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
                </span><span class="s2">"level"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anonymous"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"person_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"no_data"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-30T10:56:39.168Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last_seen_ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Теле2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Пополнение"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"По номеру +79267101283"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='parametry-optsionalnye'>Параметры (опциональные)</h3>
<ul>
<li><code class="prettyprint">wallet</code> - телефон кошелька, чьи платежи мы хотим видеть</li>
<li><code class="prettyprint">type</code> - тип платежа</li>
<li><code class="prettyprint">status</code>- статус платежа</li>
<li><code class="prettyprint">service_name</code> - полное или частичное имя сервиса</li>
<li><code class="prettyprint">service_ids</code> - список ID сервиса (как альтернатива service_name), ID сервисов перечисляются через запятую, например: 3,19,293</li>
<li><code class="prettyprint">amount_from</code> и <code class="prettyprint">amount_to</code> - границы диапазона сумм платежей, формат UTC</li>
<li><code class="prettyprint">date_from</code> и <code class="prettyprint">date_to</code> - границы диапазона дат создания платежей</li>
<li><code class="prettyprint">page</code> - номер (начиная с 0) страницы, которую запрашивает клиент, по умолчанию 0</li>
<li><code class="prettyprint">size</code> - размер страницы, которую запрашивает клиент, по умолчанию 20</li>
<li><code class="prettyprint">order_by</code> - поле для сортировки</li>
<li><code class="prettyprint">order_direction</code> - направление сортировки</li>
<li><code class="prettyprint">client_ip</code> - IP адрес плательщика (или сервиса с которого поступило распоряжение на списание)</li>
<li><code class="prettyprint">inbound_payment_id</code> - идентификатор платежа из IPSP</li>
<li><code class="prettyprint">inbound_payment_status</code> - идентификатор платежа из IPSP</li>
<li><code class="prettyprint">inbound_payment_amount_from</code> и <code class="prettyprint">inbound_payment_amount_to</code> - границы диапазона сумм платежей IPSP</li>
<li><code class="prettyprint">inbound_payment_date_from</code> и <code class="prettyprint">inbound_payment_date_to</code> - границы диапазона дат создания платежей IPSP</li>
<li><code class="prettyprint">inbound_payment_card_number_first</code> - поиск по первым 6 цифрам номера карты</li>
<li><code class="prettyprint">inbound_payment_card_number_last</code> - поиск по последним 4 цифрам номера карты</li>
<li><code class="prettyprint">inbound_payment_card_number_last</code> - поиск по последним 4 цифрам номера карты</li>
<li><code class="prettyprint">inbound_payment_recurring</code> - фильтр по рекурентным платежам (true/false)</li>
<li><code class="prettyprint">inbound_payment_card_type</code> - поиск по вендору карт (MASTER_CARD/VISA/..?)</li>
<li><code class="prettyprint">inbound_payment_3ds</code> - поиск по 3ds статусу карты: unknown (ECI/SLI не получен ни на одном из шагов), attempted (06), skipped (07), successful (05)</li>
<li><code class="prettyprint">inbound_payment_user_ip</code> - поиск по IP адресу плательщика</li>
</ul>

          <h1 id='reestry'>Реестры</h1><h2 id='zagruzka-spiska-reestrov'>Загрузка списка реестров</h2><pre class="highlight shell"><code>curl -uuser:user http://sandbox.wallet.best/adm2/registries/?size<span class="o">=</span>2
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"total_elements"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55423dafcccc9048990041ac"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test.xlsx"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testType3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-10T00:00:00+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/sandbox.wallet.best\/registries\/af\/23d\/test.xlsx"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55423dadcccc90b39a0041ac"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test.xls"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testType2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-16T00:00:00+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/sandbox.wallet.best\/registries\/ad\/23d\/test.xls"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='otvet'>Ответ</h3>
<ul>
<li><code class="prettyprint">id</code> - идентификатор регистра</li>
<li><code class="prettyprint">name</code> - Название регистра (имя файла)</li>
<li><code class="prettyprint">type</code> - тип регистра</li>
<li><code class="prettyprint">date</code> - дата за которую загружен геристр</li>
<li><code class="prettyprint">file</code> - url файла для скачивания</li>
</ul>
<h3 id='parametry-optsionalnye'>Параметры (опциональные)</h3>
<ul>
<li><code class="prettyprint">date_from</code> и <code class="prettyprint">date_to</code> - границы диапазона дат создания платежей</li>
<li><code class="prettyprint">page</code> - номер (начиная с 0) страницы, которую запрашивает клиент, по умолчанию 0</li>
<li><code class="prettyprint">size</code> - размер страницы, которую запрашивает клиент, по умолчанию 20</li>
</ul>
<h2 id='dobavlenie-reestra'>Добавление реестра</h2>
<p>Добавление регистра происходит в две итерации
Принимаемые типы файлов:</p>

<ul>
<li>&lsquo;text/csv&rsquo;,</li>
<li>&#39;text/plain&rsquo;,</li>
<li>&#39;application/vnd.ms-excel&rsquo;,</li>
<li>&#39;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&rsquo;,</li>
<li>&#39;application/zip&rsquo;,</li>
<li>&#39;application/gzip&rsquo;</li>
</ul>
<pre class="highlight shell"><code><span class="gp">$ </span>curl -H <span class="s1">'Content-type:application/json'</span> -uuser:user -d <span class="s1">'{"date":"2015-04-11","type":"testType4"}'</span> http://sandbox.wallet.best/adm2/registries/
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"url_for_upload_file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"\/adm2\/registries\/55424de7cccc9049990041b1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>После первого запроса на полученный url нужно загрузить файл</p>
</blockquote>
<pre class="highlight shell"><code><span class="gp">$ </span>curl -uuser:user -H <span class="s1">'Content-Type: multipart/form-data'</span> -X POST -F <span class="s2">"file=@path_to_file/test.xls"</span> http://sandbox.wallet.best/adm2/registries/55424de7cccc9049990041b1
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55424de7cccc9049990041b1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test.xls"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testType4"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1428710400</span><span class="p">,</span><span class="w">
        </span><span class="s2">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/sandbox.wallet.best\/registries\/ec\/250\/test.xls"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id='zagruzka-reestra-po-id'>Загрузка реестра по id</h2><pre class="highlight shell"><code>curl -uuser:user http://sandbox.wallet.best/adm2/registries/55423dafcccc9048990041ac
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55423dafcccc9048990041ac"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test.xlsx"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testType3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-04-10T00:00:00+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"file"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/sandbox.wallet.best\/registries\/af\/23d\/test.xlsx"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>При загрузке - Вы получите те же саммые данные, что и при списке</p>

          <h1 id='tochki-popolneniya'>Точки пополнения</h1><h2 id='zagruzka-spiska-tochek-popoleniya'>Загрузка списка точек пополения</h2><pre class="highlight shell"><code>curl -uuser:user http://sandbox.wallet.best/adm2/locations/?size<span class="o">=</span>1
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"total_elements"</span><span class="p">:</span><span class="w"> </span><span class="mi">235</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554ce380cccc9082250041f2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Имя точки пополнения 7"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verification"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Терминал"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"worktime"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Круглосуточно"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Россия, Абдулино, Ясный пр.Ленина 2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">53.658752</span><span class="p">,</span><span class="w">
            </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">53.690968</span><span class="p">,</span><span class="w">
            </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"worktime"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"address"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='parametry-optsionalnye'>Параметры (опциональные)</h3>
<ul>
<li><code class="prettyprint">page</code> - номер (начиная с 0) страницы, которую запрашивает клиент, по умолчанию 0</li>
<li><code class="prettyprint">size</code> - размер страницы, которую запрашивает клиент, по умолчанию 20</li>
</ul>
<h3 id='otvet'>Ответ</h3>
<ul>
<li><code class="prettyprint">id</code> - идентификатор точки пополнения</li>
<li><code class="prettyprint">name</code> - имя точки пополнения</li>
<li><code class="prettyprint">group</code> - группа точки [replenishment|verification|money_transfer]</li>
<li><code class="prettyprint">type</code> - тип точки</li>
<li><code class="prettyprint">worktime</code> - время работы</li>
<li><code class="prettyprint">address</code> - адрес</li>
<li><code class="prettyprint">longitude</code> - долгота</li>
<li><code class="prettyprint">latitude</code> - широта</li>
<li><code class="prettyprint">localized_fields</code> - массив с локализированными полями</li>
</ul>
<h2 id='poluchenie-tochki-popolneniya-po-id'>Получение точки пополнения по id</h2><pre class="highlight shell"><code><span class="gp">$ </span>curl -uuser:user http://sandbox.wallet.best/adm2/locations/554ce380cccc9082250041f2
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554ce380cccc9082250041f2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Имя точки пополнения 7"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Терминал"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verification"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"worktime"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Круглосуточно"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Россия, Абдулино, Ясный пр.Ленина 2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">53.658752</span><span class="p">,</span><span class="w">
        </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">53.690968</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"worktime"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id='dobavlenie-tochki-popolneniya-rukami'>Добавление точки пополнения (руками)</h2><pre class="highlight shell"><code>curl -H <span class="s1">'Content-type:application/json'</span> -uuser:user -d <span class="s1">'{"type":"Type?Oo","worktime":"Worktime","name":"Some name","address":"Some address string","group":"Some group","source_id":"admin","latitude":151413.123,"longitude":100500.123,"projects":"mbank"}'</span> http://sandbox.wallet.best/adm2/locations/
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554ce621cccc9093300041b3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Type?Oo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some group"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"worktime"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Worktime"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some address string"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">100500.123</span><span class="p">,</span><span class="w">
        </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">151413.123</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"worktime"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='polya'>Поля</h3>
<ul>
<li><code class="prettyprint">type</code> - тип точки</li>
<li><code class="prettyprint">worktime</code> - время работы</li>
<li><code class="prettyprint">name</code> - имя точки</li>
<li><code class="prettyprint">group</code> - группа [replenishment|verification|money_transfer]</li>
<li><code class="prettyprint">source_id</code> - (admin|best|elecsnet)</li>
<li><code class="prettyprint">address</code> - адрес</li>
<li><code class="prettyprint">longitude</code> - долгота</li>
<li><code class="prettyprint">latitude</code> - широта</li>
</ul>
<h2 id='izmenenie-tochki-popolneniya'>Изменение точки пополнения</h2><pre class="highlight shell"><code>curl -H <span class="s1">'Content-type:application/json'</span> -X POST -uuser:user -d <span class="s1">'{"type":{"ru_RU":"Type","en_US":"Type english"},"worktime":{"ru_RU":"Worktime","en_US":null},"address":{"ru_RU":"Address ru","en_US":"Address en"},"latitude":1514113.123,"longitude":1005100.123,"name":"Some name","group":"verification","source_id":"admin"}'</span> http://sandbox.wallet.best/adm2/locations/554ce621cccc9093300041b3
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554ce621cccc9093300041b3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Type"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Type english"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"group"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verification"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"worktime"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Worktime"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Address ru"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Address en"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">1005100.123</span><span class="p">,</span><span class="w">
        </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">1514113.123</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"worktime"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Аналогичный запрос, как и при добавлении</p>
<h2 id='dobavlenie-tochek-popolneniya-iz-fayla'>Добавление точек пополнения из файла</h2><pre class="highlight shell"><code>curl -uuser:user -H <span class="s1">'Content-Type: multipart/form-data'</span> -X POST -F <span class="s2">"file=/Users/Samorai/www/mbank.api/tests/data/csv/replenishment_points.csv"</span> http://sandbox.wallet.best/adm2/locations/file
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554ce7fecccc90d8240041e7"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Имя точки пополнения 1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Терминал"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"worktime"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Круглосуточно"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Россия, Абдулино, ул. Коммунистическая д. 85"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">53.648503</span><span class="p">,</span><span class="w">
            </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">53.693517</span><span class="p">,</span><span class="w">
            </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"worktime"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"address"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
           </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554ce7ffcccc90d8240041e8"</span><span class="p">,</span><span class="w">
           </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Имя точки пополнения 2"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Терминал"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="s2">"worktime"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Круглосуточно"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Россия, Абдулино, с.Северное ул.Чапаева 41"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
           </span><span class="p">},</span><span class="w">
           </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">53.661618</span><span class="p">,</span><span class="w">
           </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">53.680639</span><span class="p">,</span><span class="w">
           </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
               </span><span class="s2">"type"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"worktime"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"address"</span><span class="w">
           </span><span class="p">]</span><span class="w">
       </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Имя;Адрес;Тип;group;Время работы;source_id
Имя точки пополнения 1;Россия, Абдулино, ул. Коммунистическая д. 85;Терминал;verification;Круглосуточно;admin
Имя точки пополнения 2;Россия, Абдулино, с.Северное ул.Чапаева 41;Терминал;verification;Круглосуточно;admin</p>

<p>В ответе будет список точек, которые были добавлены.
Пример формата файла:</p>

<table><thead>
<tr>
<th>Имя;</th>
<th style="text-align: left">Адрес;</th>
<th style="text-align: left">Тип;</th>
<th style="text-align: left">group;</th>
<th style="text-align: left">Время работы;</th>
<th style="text-align: left">source_id</th>
</tr>
</thead><tbody>
<tr>
<td>Имя точки пополнения 1;</td>
<td style="text-align: left">Россия, Абдулино, ул. Коммунистическая д. 85;</td>
<td style="text-align: left">Терминал;</td>
<td style="text-align: left">verification;</td>
<td style="text-align: left">Круглосуточно;</td>
<td style="text-align: left">admin;</td>
</tr>
<tr>
<td>Имя точки пополнения 2;</td>
<td style="text-align: left">Абдулино, с.Северное ул.Чапаева 41;</td>
<td style="text-align: left">Терминал;</td>
<td style="text-align: left">verification;</td>
<td style="text-align: left">Круглосуточно;</td>
<td style="text-align: left">admin;</td>
</tr>
</tbody></table>
<h2 id='udalenie-tochki-popolneniya'>Удаление точки пополнения</h2><pre class="highlight shell"><code>curl -uuser:user -X DELETE sandbox.wallet.best/adm2/locations/554ce815cccc9056320041d3
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h1 id='parametry-servisov'>Параметры сервисов</h1><h2 id='dobavlenie-parametra'>Добавление параметра</h2><pre class="highlight shell"><code>curl -H <span class="s1">'Content-type:application/json'</span> -H <span class="s1">'X-Project-ID:mbank'</span> -X POST -u user:user -d <span class="s1">'{"id":"some_parameter_name","type":"5548d11acccc90702f0041b9","title":{"ru_RU":"parameter title"},"range_start":100500,"range_end":100501,"pattern":"\/\\d{4}\/","pattern_desc":{"ru_RU":"pattern_desc title"},"default_value":"{{last_value}}","regex_values":[111,222,333],"regex_descriptions":[{"ru_RU":"regex_description_111"},{"ru_RU":"regex_description_222"},{"ru_RU":"regex_description_333"}],"is_disabled":false,"is_hidden":false,"is_required":true}'</span> http://sandbox.wallet.best/adm2/services/53a70ca256c35f1664f64b20/parameters
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53a70ca256c35f1664f64b20"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mserver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1163</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ВКонтакте"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53359fb2255c741a749f0c47"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Игры и социальные сети"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"image_exists"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"icon_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/sandbox.wallet.best\/img\/services\/53a70ca256c35f1664f64b20.png?1430835917"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"changed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"verification_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"autopayment_service"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Пользователю {{ payment.parameters.phoneNumber }}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Покупка голосов"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ payment.service.name }}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"maxsum"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"minsum"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_parameter_name"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"min_length"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"max_length"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"range_start"</span><span class="p">:</span><span class="w"> </span><span class="mi">100500</span><span class="p">,</span><span class="w">
                </span><span class="s2">"range_end"</span><span class="p">:</span><span class="w"> </span><span class="mi">100501</span><span class="p">,</span><span class="w">
                </span><span class="s2">"patterns"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regex_description_111"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="mi">222</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regex_description_222"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="mi">333</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"regex_description_333"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"\/\\d{4}\/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pattern_desc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pattern_desc title"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parameter title"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"default_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{last_value}}"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"suggested_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"service_param_pattern_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_dynamic"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"locales"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"pattern_desc"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"diff_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="s2">"diff_from_pattern"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"diff_source"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"online"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"service_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"online"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"offline"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subtitle"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"limit"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='polya'>Поля</h3>
<ul>
<li><code class="prettyprint">id</code> - Идентификатор</li>
<li><code class="prettyprint">type</code> - Тип (По типу клиент идентифицирует необходимый функцинал поля ввода (могут быть разные клавиатуры, маски, валидаторы, что-угодно).)</li>
<li><code class="prettyprint">title</code> - Название (Название поля, отображается только когда оно пустое в виде плейсхолдера.)</li>
<li><code class="prettyprint">range_start</code> - Начальное значение</li>
<li><code class="prettyprint">range_end</code> - Закончить на</li>
<li><code class="prettyprint">pattern</code> - Формат</li>
<li><code class="prettyprint">pattern_desc</code> - Текст ошибки при несовпадении формата</li>
<li><code class="prettyprint">default_value</code> - Значение по-умолчанию</li>
<li><code class="prettyprint">regex_values</code> - Регулярные выражения валидации данных</li>
<li><code class="prettyprint">regex_descriptions</code> - Описание регулярных выражений валидации данных (ключи должны совпадать)</li>
<li><code class="prettyprint">is_disabled</code> - Поле видно, но недоступно для редактирования</li>
<li><code class="prettyprint">is_hidden</code> - Поле невидимо для пользователя</li>
<li><code class="prettyprint">is_required</code> - Поле обязательно к заполнению</li>
<li><code class="prettyprint">is_dynamic</code> - Динамичный параметр</li>
</ul>
<h3 id='v-otvete-vy-poluchite-polnyy-servis-k-kotoromu-dobavlyali-parametr'>В ответе Вы получите полный сервис, к которому добавляли параметр</h3><h2 id='izmenenie-parametra'>Изменение параметра</h2><pre class="highlight shell"><code>curl -H <span class="s1">'Content-type:application/json'</span> -H <span class="s1">'X-Project-ID:mbank'</span> -X POST -u user:user -d <span class="s1">'{"id":"some_parameter_name","type":"5548d11acccc90702f0041b9","title":{"ru_RU":"parameter title"},"range_start":100500,"range_end":100501,"pattern":"\/\\d{4}\/","pattern_desc":{"ru_RU":"pattern_desc title"},"default_value":"{{last_value}}_edited","regex_values":[111,222,333],"regex_descriptions":[{"ru_RU":"regex_description_333"},{"ru_RU":"regex_description_333"},{"ru_RU":"regex_description_333"}],"is_disabled":false,"is_hidden":false,"is_required":true}'</span> http://sandbox.wallet.best/adm2/services/53a70ca256c35f1664f64b20/parameters/some_parameter_name
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"Cм. Добавление параметра"</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>При редакторовании параметра запрос такой-же, как и при добавлении</p>
<h2 id='udalenie-parametra'>Удаление параметра</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X DELETE -u user:user http://sandbox.wallet.best/adm2/services/53a70ca256c35f1664f64b20/parameters/some_parameter_name
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53a70ca256c35f1664f64b20"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mserver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1163</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ВКонтакте"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53359fb2255c741a749f0c47"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Игры и социальные сети"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"image_exists"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"icon_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/sandbox.wallet.best\/img\/services\/53a70ca256c35f1664f64b20.png?1430836068"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"changed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"verification_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"autopayment_service"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Пользователю {{ payment.parameters.phoneNumber }}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Покупка голосов"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ payment.service.name }}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"maxsum"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"minsum"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"diff_source"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"online"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"service_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"online"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"offline"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subtitle"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"limit"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>В ответе Вы получите сервис, к которому относится этот параметр без параметра.</p>
<h2 id='zagruzka-parametra'>Загрузка параметра</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X GET -u user:user http://sandbox.wallet.best/adm2/services/53359fb2255c741a749f0c4c/parameters/phoneNumber
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phoneNumber"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"min_length"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"max_length"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"range_start"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"range_end"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"patterns"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^[0-9]{3,9}$"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pattern_desc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Номер вашего лицевого счета, от 3 до 9 цифр. Например, 12344455"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54293c2156c35ff85d5a241c"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"number"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Число"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_map_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_unmap"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_unmap_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Номер лицевого счета"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"default_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"suggested_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"service_param_pattern_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_dynamic"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"locales"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pattern_desc"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"diff_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"diff_from_pattern"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id='sinhronizatsiya-parametrov-nashego-servisa-s-parametrami-servisa-na-mserver'>Синхронизация параметров нашего сервиса с параметрами сервиса на MServer</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X POST -u user:user http://sandbox.wallet.best/adm2/services/53359fb2255c741a749f0c4a/parameters/phoneNumber/sync
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"Cм. Изменение параметра"</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>При выполении данного запроса поля параметра сервиса, которые отличаются от полей параметра сервиса мсервера заменяются</p>
<h2 id='sinhronizatsiya-items-u-parametrov'>Синхронизация items у параметров</h2><pre class="highlight shell"><code>curl  -X POST -u user:user http://sandbox.wallet.best/adm2/services/53a70d2456c35f58640fdd47/parameters/phoneNumber/items/sync
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"Cм. Изменение параметра"</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>Тоже самое, что и при синхронизации параметра, только затрагивает поле items</p>

          <h1 id='servisy'>Сервисы</h1><h2 id='zagruzka-spiska-servisov'>Загрузка списка сервисов</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X GET -u user:user <span class="s2">"http://sandbox.wallet.best/adm2/services/?size=1"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"total_elements"</span><span class="p">:</span><span class="w"> </span><span class="mi">239</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53359fb2255c741a749f0c44"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"mserver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Теле2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tele2"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Мобильная связь"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cellular providers"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"image_exists"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/sandbox.wallet.best\/img\/services\/53359fb2255c741a749f0c44.png?1422632666"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"online"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"changed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"verification_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"autopayment_service"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"in_mserver"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"group"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='parametry-optsionalnye'>Параметры (опциональные)</h3>
<ul>
<li><code class="prettyprint">page</code> - номер (начиная с 0) страницы, которую запрашивает клиент, по умолчанию 0</li>
<li><code class="prettyprint">size</code> - размер страницы, которую запрашивает клиент, по умолчанию 20</li>
<li><code class="prettyprint">category_id</code> - id категории, к которой привязан сервис</li>
<li><code class="prettyprint">name</code> - имя сервиса (поиск)</li>
<li><code class="prettyprint">status</code> - статус сервиса [online|offline]</li>
<li><code class="prettyprint">mserver_ids</code> - фильтр по mserver_id (через запятую)</li>
<li><code class="prettyprint">services_ids</code> - фильтр по id (через запятую)</li>
<li><code class="prettyprint">is_enabled</code> - вкл/выкл</li>
</ul>
<h3 id='polya'>Поля</h3>
<ul>
<li><code class="prettyprint">id</code> - Идентификатор</li>
<li><code class="prettyprint">mserver_id</code> - id сервиса на мсервере</li>
<li><code class="prettyprint">name</code> - Название сервиса</li>
<li><code class="prettyprint">group</code> - Группа, к которой принадлежит сервис</li>
<li><code class="prettyprint">image_exists</code> - Существует ли изображение</li>
<li><code class="prettyprint">image_url</code> - Линк на изображение</li>
<li><code class="prettyprint">status</code> - Статус сервиса (online|offline)</li>
<li><code class="prettyprint">keywords</code> - Ключевые слова (необходимы при поиске)</li>
<li><code class="prettyprint">labels</code> - Набор ярлыков</li>
<li><code class="prettyprint">labels.changed</code> - Совпадает ли сервис с сервисом мсервера</li>
<li><code class="prettyprint">labels.verification_required</code> - Только для верифицированных пользователей</li>
<li><code class="prettyprint">labels.autopayment_service</code> - Сервис относится к автоплатежу</li>
<li><code class="prettyprint">labels.in_mserver</code> - Существует в мсервере</li>
<li><code class="prettyprint">labels.is_hidden</code> - Скрыт</li>
<li><code class="prettyprint">labels.is_enabled</code> - Включен</li>
</ul>
<h2 id='zagruzka-servisa-po-id'>Загрузка сервиса по id</h2><pre class="highlight shell"><code><span class="gp">$ </span>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X GET -u user:user <span class="s2">"http://sandbox.wallet.best/adm2/services/53359fb2255c741a749f0c44"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53359fb2255c741a749f0c44"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mserver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Теле2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tele2"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53359fb2255c741a749f0c42"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Мобильная связь"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cellular providers"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"image_exists"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"icon_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/sandbox.wallet.best\/img\/services\/53359fb2255c741a749f0c44.png?1422632666"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"changed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"verification_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"autopayment_service"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"По номеру {{ payment.parameters.phoneNumber }}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Phone number: {{ payment.parameters.phoneNumber }}"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Пополнение"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Refill"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ payment.service.name }}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ payment.service.name }}"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Лимитов нет"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"There are no limits at this time"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"maxsum"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"minsum"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phoneNumber"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"min_length"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"max_length"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"range_start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"range_end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"patterns"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^\\+7[0-9]{10}$"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pattern_desc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Номер телефона РФ начиная с +7 (в международном формате). Например, +79261112233"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54293c0456c35ff85d25992b"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Номер телефона (локальный формат, РФ)"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"regex_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^.*$"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"regex_map_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+7$0"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"regex_unmap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^\\+7"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"regex_unmap_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Номер телефона, начиная с +7"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"default_value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"suggested_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"service_param_pattern_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54293d3056c35ff85df83dd0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_dynamic"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"locales"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"pattern_desc"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"diff_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"default_value"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"is_disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"max_length"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"min_length"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"pattern_desc"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"range_end"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"range_start"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"diff_from_pattern"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"diff_source"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"online"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"service_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"online"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"offline"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subtitle"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"limit"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='polya'>Поля</h3>
<ul>
<li><code class="prettyprint">id</code> - Идентификатор</li>
<li><code class="prettyprint">mserver_id</code> - id сервиса на мсервере</li>
<li><code class="prettyprint">name</code> - Название сервиса</li>
<li><code class="prettyprint">category</code> - Группа, к которой принадлежит сервис</li>
<li><code class="prettyprint">image_exists</code> - Существует ли изображение</li>
<li><code class="prettyprint">image_url</code> - Линк на изображение</li>
<li><code class="prettyprint">labels</code> - Набор ярлыков</li>
<li><code class="prettyprint">labels.changed</code> - Совпадает ли сервис с сервисом мсервера</li>
<li><code class="prettyprint">labels.verification_required</code> - Только для верифицированных пользователей</li>
<li><code class="prettyprint">labels.autopayment_service</code> - Сервис относится к автоплатежу</li>
<li><code class="prettyprint">labels.in_mserver</code> - Существует в мсервере</li>
<li><code class="prettyprint">labels.is_hidden</code> - Скрыт</li>
<li><code class="prettyprint">labels.is_enabled</code> - Включен</li>
<li><code class="prettyprint">description</code> - описание для маппинга платежей</li>
<li><code class="prettyprint">subtitle</code> - subtitle для маппинга платежей</li>
<li><code class="prettyprint">title</code> - title для маппинга платежей</li>
<li><code class="prettyprint">limit</code> - описание лимитов</li>
<li><code class="prettyprint">maxsum</code> - максимальная сумма оплаты</li>
<li><code class="prettyprint">minsum</code> - минимальная сумма оплаты</li>
<li><code class="prettyprint">geo</code> - список GEO точек сервиса</li>
<li><code class="prettyprint">parameters</code> - список параметров сервиса</li>
<li><code class="prettyprint">diff_source</code> - список отличий от mserver</li>
<li><code class="prettyprint">status</code> - Статус сервиса (online|offline)</li>
<li><code class="prettyprint">service_statuses</code> - перечень возможных стутусов сервиса</li>
<li><code class="prettyprint">keywords</code> - Ключевые слова (необходимы при поиске)</li>
<li><code class="prettyprint">localized_fields</code> - локализированные поля</li>
</ul>
<h2 id='redaktirovanie-servisa'>Редактирование сервиса</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:aplication/json'</span> -X POST -u user:user -d <span class="s1">'{"name": { "ru_RU": "Теле2", "en_US" "Tele2" }, "keywords": "", "mserver_id": 1000, "category_id": "53359fb2255c741a749f0c42", "limit_html": { "ru_RU": "Лимитов нет", "en_US": "There are no limits at this time" }, "icon_url": "http:\/\/sandbox.wallet.best\/img\/services\/53359fb2255c741a749f0c44.png?1422632666", "maxsum": 15000, "minsum": 1, "trans_title": { "ru_RU": "{{ payment.service.name }}", "en_US": "{{ payment.service.name }}" }, "trans_subtitle": { "ru_RU": "Пополнение", "en_US": "Refill" }, "trans_description": { "ru_RU": "По номеру {{ payment.parameters.phoneNumber }}", "en_US": "Phone number: {{ payment.parameters.phoneNumber }}" }, "verification_required" : true, "autopayment_service" : false, "status": "online" }'</span>  <span class="s2">"http://sandbox.wallet.best/adm2/services/53359fb2255c741a749f0c44"</span>

</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"См. загрузка сервиса по id"</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>
<h3 id='redaktiruemye-polya-obyazatelno-peredavat-vse-polya'>Редактируемые поля (обязательно передавать ВСЕ поля)</h3>
<ul>
<li><code class="prettyprint">name</code> - имя сервиса</li>
<li><code class="prettyprint">keywords</code> -  Ключевые слова (строка, через запятую)</li>
<li><code class="prettyprint">mserver_id</code> - id сервиса на мсервере</li>
<li><code class="prettyprint">category_id</code> - id категории, к которой относится сервис</li>
<li><code class="prettyprint">limit_html</code> - описание лимитов</li>
<li><code class="prettyprint">icon_url</code> - Линк на изображение</li>
<li><code class="prettyprint">minsum</code> - минимальная сумма оплаты</li>
<li><code class="prettyprint">maxsum</code> - максимальная сумма оплаты</li>
<li><code class="prettyprint">trans_description</code> - описание для маппинга платежей</li>
<li><code class="prettyprint">trans_subtitle</code> - subtitle для маппинга платежей</li>
<li><code class="prettyprint">trans_title</code> - title для маппинга платежей</li>
<li><code class="prettyprint">verification_required</code> - требуется ли верификация</li>
<li><code class="prettyprint">autopayments_service</code> - относится ли сервис к автоплатежу</li>
<li><code class="prettyprint">status</code> - статус сервиса</li>
<li><code class="prettyprint">geo_id</code> - id гео-точки (если передается - точка добавляется)</li>
</ul>
<h2 id='dobavlenie-ikonki-servisa'>Добавление иконки сервиса</h2><pre class="highlight shell"><code>curl -uuser:user -H <span class="s1">'Content-Type: multipart/form-data'</span> -X POST -F <span class="s2">"file=@path_to_file/replenishment_points.csv"</span> http://sandbox.wallet.best/adm2/services/53359fb2255c741a749f0c44/icon
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"См. загрузка сервиса по id"</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>
<h2 id='izmenenie-statusa-servisa'>Изменение статуса сервиса</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:aplication/json'</span> -X POST -u user:user -d <span class="s1">'{"status":"offline","is_enabled":false}'</span> http://sandbox.wallet.best/adm2/services/53359fb2255c741a749f0c44/status
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53359fb2255c741a749f0c44"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mserver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Теле2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tele2"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"group"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Мобильная связь"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cellular providers"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"image_exists"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"image_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/sandbox.wallet.best\/img\/services\/53359fb2255c741a749f0c44.png?1422632666"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"offline"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"changed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"verification_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"autopayment_service"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"group"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='parametry'>Параметры</h3>
<ul>
<li><code class="prettyprint">status</code> - статус сервиса (online|offline)</li>
<li><code class="prettyprint">is_enabled</code> - статус сервиса вкл/выкл (true|false)</li>
</ul>
<h2 id='udalenie-servisa'>Удаление сервиса</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X DELETE -u user:user http://sandbox.wallet.best/adm2/services/53359fb2255c741a749f0c44
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id='zagruzka-servisov-po-mserver_id'>Загрузка сервисов по mserver_id</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X GET -u user:user <span class="s2">"api.mbank.dev/adm2/services/mserver/1013,1001"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53a1c67c56c35fe07671be4c"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"mserver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1001</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Яндекс.Деньги"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"name"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"mserver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1013</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Мосэнергосбыт"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"name"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='polya'>Поля</h3>
<p><code class="prettyprint">id</code> - идентификатор сервиса (null - если нету у нас)
<code class="prettyprint">mserver_id</code> - id сервиса на mserver
<code class="prettyprint">name</code> - имя сервиса
<code class="prettyprint">localized_fields</code> - локализированные поля</p>
<h2 id='zagruzka-spiska-novyh-servisov'>Загрузка списка новых сервисов</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X GET -u user:user <span class="s2">"http://sandbox.wallet.best/adm2/services/new"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1562</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Континент ТВ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="s2">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"verification"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1606</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Росинтел (Тула)"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="p">,</span><span class="w">
            </span><span class="s2">"verification"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Список не привязанных сервисов</p>
<h3 id='polya'>Поля</h3>
<p><code class="prettyprint">id</code> - id сервиса на mserver
<code class="prettyprint">name</code> - имя сервиса
<code class="prettyprint">min</code> - минамильная сумма пополения
<code class="prettyprint">max</code> - максимальная сумма пополнения
<code class="prettyprint">verification</code> - локализированные поля</p>
<h2 id='dobavlenie-servisa'>Добавление сервиса</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X POST -u user:user -d <span class="s1">'{"mserver_id":"1562"}'</span> http://sandbox.wallet.best/adm2/services
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554b662dcccc9058050041e5"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mserver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1562</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Континент ТВ"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"image_exists"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"icon_exists"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"icon_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/sandbox.wallet.best\/img\/services\/554b662dcccc9058050041e5.png?0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"changed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"verification_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"autopayment_service"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"maxsum"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"minsum"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phoneNumber"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"min_length"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
                </span><span class="s2">"max_length"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
                </span><span class="s2">"range_start"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"range_end"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"patterns"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^\\d{11,12}$"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pattern_desc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"№ Карты Доступа\\Счета"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"№ Карты Доступа\\Счета"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"default_value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"suggested_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"service_param_pattern_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_dynamic"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"locales"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"pattern_desc"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"diff_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="s2">"diff_from_pattern"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"diff_source"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"service_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"online"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"offline"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subtitle"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"limit"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>При добавлении сервиса - создается сервис у нас, клонируя значения сервиса на mserver</p>
<h2 id='zagruzka-spiska-geo-tochek'>Загрузка списка гео-точек</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -XGET -u user:user <span class="s2">"sandbox.wallet.best/adm2/geo/"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54be73b7b7f47bef9100b64c"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10 лет октября (Новичихинский район, Алтайский край, Сибирский округ, Российская Федерация)"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54be73b7b7f47bef9100b639"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12 лет октября (Поспелихинский район, Алтайский край, Сибирский округ, Российская Федерация)"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='parametry-optsionalnye'>Параметры (опциональные)</h3>
<ul>
<li><code class="prettyprint">term</code> - поиск по title</li>
</ul>
<h2 id='privyazka-geo-tochki-k-servisu'>Привязка гео-точки к сервису</h2><pre class="highlight shell"><code>curl  -X POST -u user:user -d <span class="s1">'{"geo_id":"54be73b7b7f47bef9100b64c"}'</span> http://sandbox.wallet.best/adm2/services/537e27a956c35f87703a3fa7/geo
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"537e27a956c35f87703a3fa7"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"mserver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1101</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Цезарь Сателлит"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"category"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"537e28f756c35f87701cddf5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Охранные службы"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"image_exists"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"icon_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/sandbox.wallet.best\/img\/services\/537e27a956c35f87703a3fa7.png?1422632666"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"changed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"verification_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"autopayment_service"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PIN абонента {{ payment.parameters.phoneNumber }}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Пополнение {{ payment.service.name }}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"maxsum"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"minsum"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54be73b7b7f47bef9100b64c"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10 лет октября"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"inside"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54be73b7b7f47bef9100b645"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Новичихинский район"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54be73b2b7f47bef910041e8"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Алтайский край"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54be73b2b7f47bef910041ac"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Сибирский округ"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54be73b2b7f47bef910041a7"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Российская Федерация"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"diff_source"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"online"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"service_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"online"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"offline"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subtitle"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"limit"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>При добавлении, в ответе Вы получите полный сервис, такой-же, как и при запросе сервиса по id</p>
<h2 id='udalenie-privyazki-geo-tochki-ot-servisa'>Удаление привязки гео-точки от сервиса</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -X DELETE -u user:user http://sandbox.wallet.best/adm2/services/537e27a956c35f87703a3fa7/geo/54be73b7b7f47bef9100b64c
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"См. Добавление Гео Точки."</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Только в этом случае сервис будет без удаленной точки"</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>Удаляет гео-точку 54be73b7b7f47bef9100b64c с сервиса 537e27a956c35f87703a3fa7</p>

          <h1 id='nastroyki'>Настройки</h1><h2 id='zagruzka-spiska-logov'>Загрузка списка логов</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X GET -u user:user <span class="s2">"sandbox.wallet.best/adm2/logs/?size=2"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"total_elements"</span><span class="p">:</span><span class="w"> </span><span class="mi">1255</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Удален параметр у сервиса \"Эшелон Охранная Система\""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-05-05T18:18:41+00:00"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Изменен параметр \"Адрес\" для сервиса \"ТСЖ Монолит-престиж\""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bardack"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-15T13:12:22+00:00"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<ul>
<li><code class="prettyprint">text</code> - Что сделал</li>
<li><code class="prettyprint">user</code> - Кто сделал</li>
<li><code class="prettyprint">time</code> - Когда сделал</li>
</ul>
<h3 id='parametry-optsionalnye'>Параметры (опциональные)</h3>
<ul>
<li><code class="prettyprint">page</code> - номер (начиная с 0) страницы, которую запрашивает клиент, по умолчанию 0</li>
<li><code class="prettyprint">size</code> - размер страницы, которую запрашивает клиент, по умолчанию 20</li>
</ul>
<h2 id='zagruzka-spiska-oshibok'>Загрузка списка ошибок</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X GET -u user:user <span class="s2">"sandbox.wallet.best/adm2/errors/?size=2"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"total_elements"</span><span class="p">:</span><span class="w"> </span><span class="mi">75</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5494486da60ad61b110041ba"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"save_event_fail"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"save event fail"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_EN"</span><span class="p">:</span><span class="w"> </span><span class="s2">"save event fail"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"title"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5494486da60ad61b110041b9"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bad_trigger_id_no_relation"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bad trigger id no relation"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_EN"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bad trigger id no relation"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"title"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<ul>
<li><code class="prettyprint">id</code> - идентификатор ошибки</li>
<li><code class="prettyprint">code</code> - код ошибки</li>
<li><code class="prettyprint">title</code> - описание ошибки</li>
<li><code class="prettyprint">localized_fields</code> - локализированные поля</li>
</ul>
<h3 id='parametry-optsionalnye'>Параметры (опциональные)</h3>
<ul>
<li><code class="prettyprint">page</code> - номер (начиная с 0) страницы, которую запрашивает клиент, по умолчанию 0</li>
<li><code class="prettyprint">size</code> - размер страницы, которую запрашивает клиент, по умолчанию 20</li>
</ul>
<h2 id='zagruzka-oshibki-po-id'>Загрузка ошибки по id</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X GET -u user:user <span class="s2">"sandbox.wallet.best/adm2/errors/5494486da60ad61b110041ba"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5494486da60ad61b110041ba"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"save event fail"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_EN"</span><span class="p">:</span><span class="w"> </span><span class="s2">"save event fail"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"save_event_fail"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"title"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id='dobavlenie-oshibki'>Добавление ошибки</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span>  -X POST -u user:user -d <span class="s1">'{"code":"some_code","title":{"en_EN":"some_en_name","ru_RU":"some_ru_name"}}'</span> http://sandbox.wallet.best/adm2/errors/
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55490aa1cccc90f621004246"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"en_EN"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_en_name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_ru_name"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_code"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"title"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='parametry-pri-dobavlenii-oshibki'>Параметры при добавлении ошибки</h3>
<ul>
<li><code class="prettyprint">code</code> - код ошибки</li>
<li><code class="prettyprint">title</code> - описание ошибки</li>
</ul>
<h2 id='izmenenie-oshibki'>Изменение ошибки</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span>  -X POST -u user:user -d <span class="s1">'{"code":"some_code_edited","title":{"en_EN":"some_en_name_edited","ru_RU":"some_ru_name_edited"}}'</span> http://sandbox.wallet.best/adm2/errors/55490aa1cccc90f621004246
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55490aa1cccc90f621004246"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"en_EN"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_en_name_edited"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_ru_name_edited"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some_code_edited"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"title"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='parametry-pri-izmenenii-oshibki'>Параметры при изменении ошибки</h3>
<ul>
<li><code class="prettyprint">code</code> - код ошибки</li>
<li><code class="prettyprint">title</code> - описание ошибки</li>
</ul>
<h2 id='udalenie-oshibki'>Удаление ошибки</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -X DELETE -u user:user http://sandbox.wallet.best/adm2/errors/55490aa1cccc90f621004246

</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id='zagruzka-spiska-obschih-nastroek'>Загрузка списка общих настроек</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X GET -u user:user <span class="s2">"http://sandbox.wallet.best/adm2/settings/common/"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"general"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"support_phone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"input"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"feedback_email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"input"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"in"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"payment_in_title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"localized"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Пополнение счета"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IN"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"p2p"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"payment_p2p_title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"localized"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Денежный перевод"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P2P"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"apns"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"payment_out_fail"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"localized"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Оплата \"{{ service.name }}\" отменена"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"intercom"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"intercom_reply_method"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"checkbox"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                   </span><span class="s2">"sms"</span><span class="p">,</span><span class="w">
                   </span><span class="s2">"apns"</span><span class="w">
               </span><span class="p">],</span><span class="w">
               </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apns"</span><span class="w">
           </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"wallet_verified_apns_message"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"localized"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your wallet has been verified."</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"suggested_values"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"input"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"cards_limits_text"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"localized"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"transaction_log"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"mail_from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"input"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"autopayments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"autopayments_sms_connected_threshold"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"input"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Список общих настроек разделен на группы
* Общее
* Сообщения для in платежей
* Сообщения для p2p платежей
* Сообщения для APNS платежей
* Настройки для Intercom сообщений
* Сообщения для кошельков
* Параметры
* Лог транзацкий
* СМС автоплатежей</p>
<h3 id='polya'>Поля</h3>
<p>Ключ - код ошибки
* <code class="prettyprint">type</code> - тип поля [checkbox|localized|input]
* <code class="prettyprint">value</code> - значение поля
* <code class="prettyprint">values</code> - значения поля для типа checkbox</p>
<h2 id='izmeneniya-spiska-obschih-nastroek'>Изменения списка общих настроек</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -X POST -u user:user -d <span class="s1">'{"settings":{"support_phone":{"ru_RU":"edited_name_ru"},"autopayments_sms_payment_fail":{"ru_RU":"edited_name_ru"}}}'</span> http://sandbox.wallet.best/adm2/settings/common/
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"См. Загрузка списка общих настроек"</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>

<p>При изменении нужно передавать ключ ошибки и ее значение</p>
<h2 id='zagruzka-spiska-limitov'>Загрузка списка лимитов</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X GET -u user:user <span class="s2">"http://sandbox.wallet.best/adm2/settings/limits/"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53dfa37456c35f7375ebdc44"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Оплата услуг"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Кроме перечисленных ниже"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"anonymous"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anonymous"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"personified"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"personified"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"description"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<ul>
<li><code class="prettyprint">id</code> - идентификатор</li>
<li><code class="prettyprint">title</code> - Название</li>
<li><code class="prettyprint">description</code> - Описание</li>
<li><code class="prettyprint">status</code> - К каким статусам относится</li>
<li><code class="prettyprint">limit</code> - Значения лимитов для статусов</li>
<li><code class="prettyprint">type_limits</code> - Возможные типы лимитов</li>
<li><code class="prettyprint">position</code> - Позиция в списке</li>
<li><code class="prettyprint">localized_fields</code> - локализированные поля</li>
</ul>
<h2 id='zagruzka-limita-po-id'>Загрузка лимита по id</h2><pre class="highlight shell"><code><span class="gp">$ </span>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X GET -u user:user <span class="s2">"http://sandbox.wallet.best/adm2/settings/limits/53dfa37456c35f7375ebdc44"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53dfa37456c35f7375ebdc44"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Оплата услуг"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Кроме перечисленных ниже"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"anonymous"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anonymous"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"personified"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"personified"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id='sortirovka-limitov'>Сортировка лимитов</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -X POST -u user:user -d <span class="s1">'{"limits_order":"53dfa35f56c35f737578012e,53dfa37456c35f7375ebdc44,53dfa38a56c35f7375e1a14c,53dfa34856c35f737505a834,54b3cc0c56c35f744758bfd0,53dfa3ac56c35f7375481acc"}'</span> http://sandbox.wallet.best/adm2/settings/limits/sort
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Массив idшников лимитов, в том порядке, в котором они должны быть отсортированны</p>
<h2 id='dobavlenie-limita'>Добавление лимита</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -X POST -u user:user -d <span class="s1">'{"title":{"ru_RU":"Название","en_US":"test title"},"description":{"ru_RU":"Описание","en_US":"test description"},"limit":{"anonymous":111,"verified":222,"personified":333},"status":{"anonymous":0,"verified":1,"personified":2}}'</span> http://sandbox.wallet.best/adm2/settings/limits/
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554cb2d6cccc9080250041a8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Название"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test title"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Описание"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test description"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"anonymous"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anonymous"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"personified"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"personified"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<ul>
<li><code class="prettyprint">title</code> - Название</li>
<li><code class="prettyprint">description</code> - Описание</li>
<li><code class="prettyprint">limit</code> - Значения лимитов для статусов</li>
<li><code class="prettyprint">status</code> - К каким статусам относится</li>
</ul>
<h2 id='izmenenie-limita'>Изменение лимита</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -X POST -u user:user -d <span class="s1">'{"title":{"ru_RU":"Название","en_US":"test title edited"},"description":{"ru_RU":"Описание","en_US":"test description edited"}, "limit":{"anonymous":111,"verified":222,"personified":333},"status":{"anonymous":0,"verified":1,"personified":2}}'</span> http://sandbox.wallet.best/adm2/settings/limits/554cb2d6cccc9080250041a8

</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"554cb2d6cccc9080250041a8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Название"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test title edited"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Описание"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"en_US"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test description edited"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"anonymous"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">111</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anonymous"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"verified"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"verified"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"personified"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bool"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"personified"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>При редактировании лимит передаются те же самые поля, что и при добалении</p>
<h2 id='udalenie-limita'>Удаление лимита</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -X DELETE -u user:user http://sandbox.wallet.best/adm2/settings/limits/554cb2d6cccc9080250041a8
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h1 id='shablony'>Шаблоны</h1><h2 id='zagruzka-spiska-shablonov'>Загрузка списка шаблонов</h2><pre class="highlight shell"><code><span class="nv">$curl</span> -H <span class="s1">'X-Project-ID:mbank'</span> -X GET -u user:user <span class="s2">"http://sandbox.wallet.best/adm2/templates/"</span>
</code></pre>
<pre class="highlight json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5429887756c35f625da94314"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Фамилия"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"default_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ last_value | default(person.family_name) }}"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_pattern"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pattern_desc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Фамилия кириллицей, длинной от 1 до 255 символов"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"range_start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"range_end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^[а-яА-ЯёЁ\\-]{1,255}$"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"patterns"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54293c0e56c35ff85dcf6ee8"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Строка"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"regex_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"regex_map_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"regex_unmap"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"regex_unmap_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"services_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pattern_desc"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<ul>
<li><code class="prettyprint">id</code> - Идентификатор</li>
<li><code class="prettyprint">type</code> - Тип (По типу клиент идентифицирует необходимый функцинал поля ввода (могут быть разные клавиатуры, маски, валидаторы, что-угодно).)</li>
<li><code class="prettyprint">title</code> - Название (Название поля, отображается только когда оно пустое в виде плейсхолдера.)</li>
<li><code class="prettyprint">range_start</code> - Начальное значение</li>
<li><code class="prettyprint">range_end</code> - Закончить на</li>
<li><code class="prettyprint">pattern</code> - Формат</li>
<li><code class="prettyprint">pattern_desc</code> - Текст ошибки при несовпадении формата</li>
<li><code class="prettyprint">default_value</code> - Значение по-умолчанию</li>
<li><code class="prettyprint">regex_values</code> - Регулярные выражения валидации данных</li>
<li><code class="prettyprint">regex_descriptions</code> - Описание регулярных выражений валидации данных (ключи должны совпадать)</li>
<li><code class="prettyprint">is_disabled</code> - Поле видно, но недоступно для редактирования</li>
<li><code class="prettyprint">is_hidden</code> - Поле невидимо для пользователя</li>
<li><code class="prettyprint">is_required</code> - Поле обязательно к заполнению</li>
<li><code class="prettyprint">is_pattern</code> - является ли шиблоном</li>
<li><code class="prettyprint">patterns</code> - валидаторы</li>
<li><code class="prettyprint">items</code> - значения</li>
<li><code class="prettyprint">services_amount</code> - кол-во сервисов, параметры которых привязанны к этому шаблону</li>
<li><code class="prettyprint">localized_fields</code> - локализированные поля</li>
</ul>
<h2 id='zagruzka-shablona-po-id'>Загрузка шаблона по id</h2><pre class="highlight shell"><code><span class="gp">$ </span>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X GET -u user:user <span class="s2">"http://sandbox.wallet.best/adm2/templates/5429887756c35f625da94314"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5429887756c35f625da94314"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Фамилия"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"default_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ last_value | default(person.family_name) }}"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_pattern"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pattern_desc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Фамилия кириллицей, длинной от 1 до 255 символов"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"range_start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"range_end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^[а-яА-ЯёЁ\\-]{1,255}$"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"patterns"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54293c0e56c35ff85dcf6ee8"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Строка"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_map_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_unmap"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_unmap_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lastname"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"min_length"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"max_length"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"range_start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"range_end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"patterns"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^[а-яА-ЯёЁ\\-]{1,20}$"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pattern_desc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Фамилия кириллицей, длинной от 1 до 20 символов"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"54293c0e56c35ff85dcf6ee8"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Строка"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"regex_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"regex_map_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"regex_unmap"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"regex_unmap_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Фамилия"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"default_value"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"suggested_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
                </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"service_param_pattern_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5429887756c35f625da94314"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_dynamic"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="s2">"locales"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"pattern_desc"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"service_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"549837f456c35fa03312e225"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"mserver_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1007</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Home Credit and Finance"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pattern_desc"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<ul>
<li><code class="prettyprint">id</code> - Идентификатор</li>
<li><code class="prettyprint">type</code> - Тип (По типу клиент идентифицирует необходимый функцинал поля ввода (могут быть разные клавиатуры, маски, валидаторы, что-угодно).)</li>
<li><code class="prettyprint">title</code> - Название (Название поля, отображается только когда оно пустое в виде плейсхолдера.)</li>
<li><code class="prettyprint">range_start</code> - Начальное значение</li>
<li><code class="prettyprint">range_end</code> - Закончить на</li>
<li><code class="prettyprint">pattern</code> - Формат</li>
<li><code class="prettyprint">pattern_desc</code> - Текст ошибки при несовпадении формата</li>
<li><code class="prettyprint">default_value</code> - Значение по-умолчанию</li>
<li><code class="prettyprint">regex_values</code> - Регулярные выражения валидации данных</li>
<li><code class="prettyprint">regex_descriptions</code> - Описание регулярных выражений валидации данных (ключи должны совпадать)</li>
<li><code class="prettyprint">is_disabled</code> - Поле видно, но недоступно для редактирования</li>
<li><code class="prettyprint">is_hidden</code> - Поле невидимо для пользователя</li>
<li><code class="prettyprint">is_required</code> - Поле обязательно к заполнению</li>
<li><code class="prettyprint">is_pattern</code> - является ли шиблоном</li>
<li><code class="prettyprint">patterns</code> - валидаторы</li>
<li><code class="prettyprint">items</code> - значения</li>
<li><code class="prettyprint">services_amount</code> - кол-во сервисов, параметры которых привязанны к этому шаблону</li>
<li><code class="prettyprint">localized_fields</code> - локализированные поля</li>
</ul>
<h2 id='sozdanie-shablona'>Создание шаблона</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -X POST -u user:user -d <span class="s1">'{"service_id":"54293c0e56c35ff85dcf6ee8","parameter_id":"phoneNumber","items":null,"type":{"id":"54293c0e56c35ff85dcf6ee8","title":"string","description":"Steam оплата","regex_map":"","regex_map_value":"","regex_unmap":"","regex_unmap_value":""},"title":{"ru_RU":"Пополнение Steam"},"range_start":"","range_end":"","pattern":"^[a-zA-Z0-9_]{3,64}$","pattern_desc":{"ru_RU":"Какой-то там логин в стим"},"default_value":null,"regex_values":[],"regex_description":[],"is_required":true}'</span> http://sandbox.wallet.best/adm2/templates/
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55499ac3cccc902022004236"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Пополнение Steam"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"default_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_pattern"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pattern_desc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Какой-то там логин в стим"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"range_start"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"range_end"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^[a-zA-Z0-9_]{3,64}$"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"patterns"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Steam оплата"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_map_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_unmap"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_unmap_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pattern_desc"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Создание шаблона с параметра сервиса (mserver_id)
Тело запроса на создание шаблона аналогично с телом запроса на изменение параметра</p>
<h2 id='izmenenie-shablona'>Изменение шаблона</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -u user:user -X POST -d <span class="s1">'{"items":null,"type":{"title":"string","description":"Steam оплата","regex_map":"11","regex_map_value":"22","regex_unmap":"33","regex_unmap_value":"44"},"title":{"ru_RU":"Пополнение Steam"},"range_start":"","range_end":"","pattern":"^[a-zA-Z0-9_]{3,64}$","pattern_desc":{"ru_RU":"Какой-то там логин в стим"},"default_value":"{{last_value}}","regex_values":[],"regex_description":[],"is_required":true}'</span> http://sandbox.wallet.best/adm2/templates/55499bbdcccc902022004238
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"55499bbdcccc902022004238"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Пополнение Steam"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"default_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{last_value}}"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_disabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_hidden"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_pattern"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pattern_desc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"ru_RU"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Какой-то там логин в стим"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"range_start"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"range_end"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^[a-zA-Z0-9_]{3,64}$"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"patterns"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Steam оплата"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_map_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_unmap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"33"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_unmap_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"localized_fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pattern_desc"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id='udalenie-shablona'>Удаление шаблона</h2><pre class="highlight shell"><code><span class="nv">$curl</span> -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -X DELETE -u user:user http://sandbox.wallet.best/adm2/templates/55522103cccc902a550041d9
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h1 id='tipy'>Типы</h1><h2 id='poluchenie-spiska-tipov'>Получение списка типов</h2><pre class="highlight shell"><code>curl -uuser:user http://sandbox.wallet.best/adm2/types/
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5542652ecccc90abb20041b8"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Номер телефона (локальный формат, Финляндия)"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^.*$"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_map_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+358$0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_unmap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^\\+358"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_unmap_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5542652ecccc90abb20041b9"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Номер телефона (локальный формат, Болгария)"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^.*$"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_map_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+359$0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_unmap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^\\+359"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"regex_unmap_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<ul>
<li><code class="prettyprint">id</code> - идентификатор</li>
<li><code class="prettyprint">title</code> - название</li>
<li><code class="prettyprint">description</code> - описание</li>
<li><code class="prettyprint">regex_map</code> - Регулярное выражения поиска (Правило преобразования MServer&rarr;Client)</li>
<li><code class="prettyprint">regex_map_value</code> - Значение для замены (Значение преобразования MServer&rarr;Client)</li>
<li><code class="prettyprint">regex_unmap</code> - Регулярное выражения поиска (Правило преобразования Client&rarr;MServer)</li>
<li><code class="prettyprint">regex_unmap_value</code> - Значение для замены (Значение преобразования Client&rarr;MServer)</li>
</ul>
<h2 id='poluchenie-tipa-po-id'>Получение типа по id</h2><pre class="highlight shell"><code>curl  -H <span class="s1">'X-Project-ID:mbank'</span> -uuser:user http://sandbox.wallet.best/adm2/types/5542652ecccc90abb20041b8
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5542652ecccc90abb20041b8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"phone"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Номер телефона (локальный формат, Финляндия)"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"regex_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^.*$"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"regex_map_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+358$0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"regex_unmap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^\\+358"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"regex_unmap_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id='dobavlenie-tipa'>Добавление типа</h2><pre class="highlight shell"><code>curl  -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -uuser:user -X POST -d <span class="s1">'{"title":"new_title","description":"description_for_new_title","regex_map":"\/^$\/$","regex_map_value":"\/^$\/$","regex_unmap":"100500","regex_unmap_value":"100500"}'</span> http://sandbox.wallet.best/adm2/types/
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5549b733cccc904b09004261"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new_title"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"description_for_new_title"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"regex_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">"\/^$\/$"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"regex_map_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"\/^$\/$"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"regex_unmap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100500"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"regex_unmap_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100500"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<ul>
<li><code class="prettyprint">title</code> - название</li>
<li><code class="prettyprint">description</code> - описание</li>
<li><code class="prettyprint">regex_map</code> - Регулярное выражения поиска (Правило преобразования MServer&rarr;Client)</li>
<li><code class="prettyprint">regex_map_value</code> - Значение для замены (Значение преобразования MServer&rarr;Client)</li>
<li><code class="prettyprint">regex_unmap</code> - Регулярное выражения поиска (Правило преобразования Client&rarr;MServer)</li>
<li><code class="prettyprint">regex_unmap_value</code> - Значение для замены (Значение преобразования Client&rarr;MServer)</li>
</ul>
<h2 id='izmenenie-tipa'>Изменение типа</h2><pre class="highlight shell"><code>curl  -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -uuser:user -X POST -d <span class="s1">'{"title":"edited title","description":"edited description","regex_map":"\/^$\/$","regex_map_value":"\/^$\/$","regex_unmap":"100500","regex_unmap_value":"100500"}'</span> http://sandbox.wallet.best/adm2/types/5549b733cccc904b09004261

</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5549b733cccc904b09004261"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edited title"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edited description"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"regex_map"</span><span class="p">:</span><span class="w"> </span><span class="s2">"\/^$\/$"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"regex_map_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"\/^$\/$"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"regex_unmap"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100500"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"regex_unmap_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100500"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Запрос на изменение типа аналогичен с запросом на создание типа, только с передачей идентификатора типа</p>
<h2 id='udalenie-tipa'>Удаление типа</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -X DELETE -u user:user http://sandbox.wallet.best/adm2/types/5549b733cccc904b09004261
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h1 id='koshelki'>Кошельки</h1><h2 id='zagruzka-koshelka'>Загрузка кошелька</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -uuser:user http://sandbox.wallet.best/adm2/wallets/+380631345678
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.413015</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-13T21:51:41.436Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">598</span><span class="p">,</span><span class="w">
        </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+380631345678"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"statistics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"cards"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"active_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">189</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"payments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"lifetime"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">14643</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">272</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"in_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">2707</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"in_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"out_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">11525</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"out_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">47</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"in_out_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"in_out_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"p2p_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">631</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"p2p_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"last_month"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">58</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"in_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"in_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"out_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"out_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"in_out_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">58</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"in_out_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"p2p_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"p2p_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"cards"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"card_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10189</span><span class="p">,</span><span class="w">
                </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"541715******7260"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MasterCard"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"lifetime_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">2610</span><span class="p">,</span><span class="w">
                </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DKLJFLHSKD"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last_payment_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"declined"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"bin_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"bin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"541715"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MASTERCARD"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"sub_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RU"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"country_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Russian Federation"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"bank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JSCB BANK OF MOSCOW"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CREDIT"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"card_category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STANDARD"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"query_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"388.476µs"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"card_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10870</span><span class="p">,</span><span class="w">
                </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"used"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"541715******7260"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MasterCard"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"lifetime_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">155</span><span class="p">,</span><span class="w">
                </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test test"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last_payment_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"card_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9416</span><span class="p">,</span><span class="w">
                </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pending"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"lifetime_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"card_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9417</span><span class="p">,</span><span class="w">
                </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deleted"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"541715******7260"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MasterCard"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"lifetime_turnover"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"limits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"in"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"available"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"out"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"available"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"p2p"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"available"</span><span class="p">:</span><span class="w"> </span><span class="mi">15000</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"available"</span><span class="p">:</span><span class="w"> </span><span class="mi">59402</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"turnover"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"monthly"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"in"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"available"</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="s2">"out"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"available"</span><span class="p">:</span><span class="w"> </span><span class="mi">200000</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="s2">"p2p"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">40000</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"available"</span><span class="p">:</span><span class="w"> </span><span class="mi">40000</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"cards"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"available"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"person"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"family_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Дрыга"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"given_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Андрей"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"patronymic_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Александрович"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"passport_series_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2202655885"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"passport_issued_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-02-27"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"itn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"330500938709"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ssn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11223344595"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"data_entered"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"has_picture"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"picture_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/sandbox.wallet.best\/img\/wallets\/7a\/91c\/54291c7a56c35f205da91f9d.jpg?1422258292"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@wallet.best"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_send_frequency"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contacts_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"projects"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"mbank"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='sm--poisk-po-koshelkam-proekta-adminstrativnoe-api-mserver'>См.  Поиск по кошелькам проекта Админстративное API Mserver</h3>
<p>Дополнительные поля, которые передаются в ответе:</p>

<ul>
<li><code class="prettyprint">has_picture</code> - имеет ли изображение</li>
<li><code class="prettyprint">picture_url</code> - урл изображения</li>
<li><code class="prettyprint">email</code></li>
<li><code class="prettyprint">email_send_frequency</code> - ?</li>
<li><code class="prettyprint">contacts_count</code> - кол-во контактов</li>
<li><code class="prettyprint">projects</code> - к каким проектам относится</li>
<li><code class="prettyprint">lock_reason</code> - причина блокировки (если заблокирован) </li>
</ul>
<h2 id='udalenie-koshelka'>Удаление кошелька</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -X DELETE -u user:user <span class="s2">"http://sandbox.wallet.best/adm2/wallets/+123457643395"</span>
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.270401</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Работает только на DEV сервере</p>
<h2 id='izmenenie-email-koshelka'>Изменение email кошелька</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -X POST -u user:user -d <span class="s1">'{"email":"test@testdt.com"}'</span> http://sandbox.wallet.best/adm2/wallets/+12345842116/email
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.270401</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id='izmenenie-personstatus-koshelka'>Изменение person/status кошелька</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -X POST -u user:user -d <span class="s1">'{"person_status":"data_entered"}'</span> http://sandbox.wallet.best/adm2/wallets/+12345842117/person/status
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.270401</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='izmenyaemye-polya'>Изменяемые поля</h3>
<ul>
<li><code class="prettyprint">person_status</code> - Изменить статус верификации (см. Изменение статуса персональных данныхv)</li>
</ul>
<h2 id='zastavit-smenit-parol'>Заставить сменить пароль</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -X POST -u user:user -d <span class="s1">'{"password_reset":true}'</span> http://sandbox.wallet.best/adm2/wallets/+12345842117/password/reset
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.270401</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id='izmenyaemye-polya-raznye-zaprosy'>Изменяемые поля (разные запросы)</h3>
<ul>
<li><code class="prettyprint">password_reset</code> - (true|false) - заставить сменить пароль</li>
</ul>
<h2 id='udalenie-avatarki-polzovatelya'>Удаление аватарки пользователя</h2><pre class="highlight shell"><code><span class="nv">$curl</span> -H <span class="s1">'X-Project-ID:mbank'</span> -H <span class="s1">'Content-type:application/json'</span> -X DELETE -u user:user http://sandbox.wallet.best/adm2/wallets/+123457443658/icon
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id='poluchenie-spiska-ustroystv-koshelka'>Получение списка устройств кошелька</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X GET -u user:user http://sandbox.wallet.best/adm2/wallets/+12345471665/devices

</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d4760f14-6f66-43ce-b096-6703c18e56ca"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"pin_enabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"carrier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carrier:06"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"carrier_country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"255"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"permission_contacts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"permission_photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"permission_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"permission_push"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"bluetooth_enabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"wifi_connected"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"apns_badge"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d4760f14-6f66-43ce-b096-6703c18e56cs"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"pin_enabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"carrier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carrier:06"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"carrier_country_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"255"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"permission_contacts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"permission_photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"permission_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"permission_push"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"bluetooth_enabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"wifi_connected"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"apns_badge"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Список устройств, с которых пользователь заходил в приложения</p>
<h2 id='blokirovka-koshelka'>Блокировка кошелька</h2><pre class="highlight shell"><code>curl  -X POST -u user:user -d <span class="s1">'{"message":"message","reason":"reason"}'</span> http://sandbox.wallet.best/adm2/wallets/+12345334867/disable
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.270401</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<ul>
<li><code class="prettyprint">message</code> - Сообщение, которое увидит пользователь</li>
<li><code class="prettyprint">reason</code> - Причина блокировки</li>
</ul>
<h2 id='razblokirovka-koshelka'>Разблокировка кошелька</h2><pre class="highlight shell"><code>curl  -X POST -u user:user http://sandbox.wallet.best/adm2/wallets/+12345334867/enable
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.270401</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id='poluchenie-spiska-peresekayuschihsya-koshelkov'>Получение списка пересекающихся кошельков</h2><pre class="highlight shell"><code>curl -H <span class="s1">'X-Project-ID:mbank'</span> -X GET -u user:user http://sandbox.wallet.best/adm2/wallets/+380631345678/intersecting
</code></pre>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"by_ip"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12345031449"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-02T13:39:49+00:00"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12345040280"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-13T16:08:45+00:00"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"by_card"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+79260000122"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-14T15:29:47+00:00"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+380931254212"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-03-03T10:24:13+00:00"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"by_identification_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"by_person"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"by_passport"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+79261111111"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-14T14:38:45+00:00"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+380503839001"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-14T14:40:30+00:00"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"by_udid"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="s2">"by_contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Список кошельков - у которых совпадают данные</p>

<ul>
<li><code class="prettyprint">by_ip</code> - Заходили с одного ip</li>
<li><code class="prettyprint">by_card</code> - Привязанна одна и та же карта</li>
<li><code class="prettyprint">by_identification_data</code></li>
<li>* <code class="prettyprint">by_person</code> - совпадают идентификационные данные;</li>
<li>* <code class="prettyprint">by_passport</code> - совпадают паспортные данные</li>
<li><code class="prettyprint">by_udid</code> - заходили с одного устройства</li>
<li><code class="prettyprint">by_contacts</code> - степень похожести телефонной книги составляет &gt;= 20%</li>
</ul>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
